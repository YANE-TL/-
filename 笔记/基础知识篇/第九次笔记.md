# 超基础知识点
## 第九讲
### 6.1数据依赖
关系模式Student<U, F>中存在的问题
1. 数据冗余太大
2. 更新异常（Update Anomalies）
3. 插入异常（Insertion Anomalies）
4. 删除异常（Deletion Anomalies）

数据依赖对关系模式的影响
结论：
```
Student关系模式不是一个好的模式。
“好”的模式：
不会发生插入异常、删除异常、更新异常，
数据冗余应尽可能少
原因：由存在于模式中的某些数据依赖引起的
解决方法：通过分解关系模式来消除其中不合适
的数据依赖
```
***
### 6.2 规范化
规范化理论正是用来改造关系模式，通过分解关系模式来消除其中不合适的数据依赖，以解决插入异常、删除异常、更新异常和数据冗余问题。

 函数依赖
 ```
平凡函数依赖与非平凡函数依赖
完全函数依赖与部分函数依赖
传递函数依赖
```
#### 平凡函数依赖与非平凡函数依赖
在关系模式R(U)中，对于U的子集X和Y，
如果X→Y，但Y  X，则称X→Y是非平凡的函数依赖
若X→Y，但Y  X,   则称X→Y是平凡的函数依赖
例：在关系SC(Sno, Cno, Grade)中，

            非平凡函数依赖： (Sno, Cno) → Grade
            平凡函数依赖：   (Sno, Cno) → Sno 
                           (Sno, Cno) → Cno
```
若X→Y，则X称为这个函数依赖的决定属性组，也称为决定因素（Determinant）。
若X→Y，Y→X，则记作X←→Y。
若Y不函数依赖于X，则记作X→Y。
```
***
6.2.3  范式
范式是符合某一种级别的关系模式的集合
关系数据库中的关系必须满足一定的要求。满足不同程度要求的为不同范式
范式的种类：	

			第一范式(1NF)
			第二范式(2NF)
			第三范式(3NF)
			BC范式(BCNF)
			第四范式(4NF)
			第五范式(5NF)

各种范式之间存在联系：
某一关系模式R为第n范式，可简记为R∈nNF。
一个低一级范式的关系模式，通过模式分解可以转换为若干个高一级范式的关系模式的集合，这种过程就叫规范化 

#### 1NF的定义
```
	如果一个关系模式R的所有属性都是不可分的基本数据项，则R∈1NF
第一范式是对关系模式的最起码的要求。不满足第一范式的数据库模式不能称为关系数据库
但是满足第一范式的关系模式并不一定是一个好的关系模式
```

#### 2NF
采用投影分解法将一个1NF的关系分解为多个2NF的关系，可以在一定程度上减轻原1NF关系中存在的插入异常、删除异常、数据冗余度大、修改复杂等问题。

将一个1NF关系分解为多个2NF的关系，并不能完全消除关系模式中的各种异常情况和数据冗余。

#### 3NF
关系模式R<U，F> 中若不存在这样的码X、属性组Y及非主属性Z（Z  Y）, 使得X→Y，Y→Z成立， 
    Y → X，则称R<U，F> ∈ 3NF。
若R∈3NF，则每一个非主属性既不部分依赖于码也不传递依赖于码。 


#### BC范式
关系模式R<U，F>∈1NF，若X→Y且Y  X时X必含有码，则R<U，F> ∈BCNF。

等价于：每一个决定属性因素都包含码
若R∈BCNF 
所有非主属性对每一个码都是完全函数依赖
所有的主属性对每一个不包含它的码，也是完全函数依赖
没有任何属性完全函数依赖于非码的任何一组属性
